{% extends 'base.html' %}
{% load static %}
{% block meta %}
<title>{{ blogsettings.page_title }}</title>
{% if page.banner_image %}
<link rel="icon" href="{{ blogsettings.banner_image.url }}" type="image/x-icon">
{% endif %}

<meta name="description" content="{{ blogsettings.meta_description }}">
<meta name="keywords" content="{{ blogsettings.meta_keywords }}">
<meta name="robots" content="index, follow">
<link rel="canonical" href="{{ request.build_absolute_uri }}">
<meta property="og:title" content="{{ blogsettings.meta_title }}">
<meta property="og:description" content="{{ blogsettings.meta_description }}">
<meta property="og:image" content="{{settings.logo.url}}">
<meta name="twitter:card" content="{{settings.logo.url}}">
<meta name="twitter:title" content="{{ blogsettings.page_title }}">
<meta name="twitter:description" content="{{ blogsettings.meta_description }}">
<meta name="twitter:image" content="{{settings.logo.url}}">
{% if blogsettings.links %}
{{blogsettings.links|safe}}
{% endif %}
{% endblock meta %}
{% block content %}
{% include 'includes/navbar.html' %}
<div class="relative w-full pt-16 md:pt-10">
    <img src="{{blogsettings.banner_image.url}}" alt="" class="w-full  min-h-[180px] md:min-h-[500px]">

    <div class="absolute top-[60%] text-center w-full">
        <h1 class="text-white text-4xl md:text-6xl font-extrabold z-10 drop-shadow-[0_2px_2px_rgba(255,255,255,0.3)]" style="-webkit-text-stroke: 0.7px white;">
            {{settings.site_name|upper}}
        </h1>
        <p class="text-white text-xl md:text-2xl font-medium z-10 py-2 drop-shadow-[0_1px_1px_rgba(255,255,255,0.3)]" style="-webkit-text-stroke: 0.4px white;">
            Thoughts, stories and ideas.
        </p>
    </div>
    
</div>

<div class="max-w-7xl mx-auto px-4 py-10">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {% for page in pages reversed %}
        <a href="{% url 'blog-page-view' page.slug %}" class="group block bg-white shadow-sm overflow-hidden hover:shadow-lg transition duration-300">
            {% if page.banner_image %}
                <img src="{{ page.banner_image.url }}" alt="{{ page.title }}" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300">
            {% else %}
                <div class="w-full h-48 bg-gray-200 flex items-center justify-center text-gray-500 text-sm">No Image</div>
            {% endif %}
            <div class="p-4">
                <h3 class="text-xl font-semibold text-gray-800 group-hover:text-indigo-600">{{ page.title }}</h3>
                <p class="text-gray-600 mt-2 line-clamp-3">{{ page.content|striptags|truncatechars:100 }}</p>
            </div>
        </a>
        {% endfor %}
    </div>
</div>
{% include 'includes/footer.html' %}
{% endblock content %}